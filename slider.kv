#:kivy 1.0

<Slider2>:
    padding: 1
    canvas:
        Color:
            rgb: 1, 0, 0.15 #color for above top cursor
        BorderImage:
            border: self.border_horizontal if self.orientation == 'horizontal' else self.border_vertical
            pos: (self.x + self.padding, self.center_y - self.background_width / 2) if self.orientation == 'horizontal' else (self.center_x - self.background_width / 2, self.y + self.padding)
            size: (self.width - self.padding * 2, self.background_width) if self.orientation == 'horizontal' else (self.background_width, self.height - self.padding * 2)
            source: (self.background_disabled_horizontal if self.orientation == 'horizontal' else self.background_disabled_vertical) if self.disabled else (self.background_horizontal if self.orientation == 'horizontal' else self.background_vertical)
        Color: #color for line underneath top cursor
            rgba: 1, 1, 1, 0.75
        Line: #line under top cursor
            width: self.value_track_width
            points: self.center_x, self.y + self.padding, self.center_x, self.value2_pos[1]
        Color: #color for line underneath top cursor and above bottom cursor
            rgb: 0, 0, 0.75
        Line: #line under top cursor and above top cursor
            width: self.value_track_width
            points: self.center_x, self.y + self.padding, self.center_x, self.value1_pos[1]
        Color:
            rgb: 1, 1, 1 #color for cursors
        Rectangle:
            pos: (self.value1_pos[0] - 16, self.center_y - 16) if self.orientation == 'horizontal' else (self.center_x - 16, self.value1_pos[1] - 16)
            size: (32, 32)
            source: 'atlas://data/images/defaulttheme/slider_cursor'
        Rectangle:
            pos: (self.value2_pos[0] - 16, self.center_y - 16) if self.orientation == 'horizontal' else (self.center_x - 16, self.value2_pos[1] - 16)
            size: (32, 32)
            source: '/home/ken/Pictures/Kivy_AC_Controls_Images/slider_cursor_red.png'

<ValveIndicator>
    state_image: self.valve_closed if self.state == 'close' else self.valve_open
    canvas:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            size: (32, 32)
            pos: self.center_x, self.center_y
            source: self.state_image

<MainView>:

    slider:slider

    BoxLayout:
        orientation: 'horizontal'
        size: root.size
        cols: 5
        BoxLayout:
            orientation: 'vertical'
            rows: 4
            Label:
                size_hint_y: slider.horizontalHintRatio
                text: 'Stage 1'
            ValveIndicator:
                size_hint_y: slider.horizontalHintRatio
                state_image: self.valve_closed if slider.value1 < slider.var1 else self.valve_open
            BoxLayout:
                orientation: 'horizontal'
                cols: 2
                Slider2:
                    id:slider
                    min: 0
                    max: 450
                    value1: 10
                    value2: 90
                    height: slider.sliderHeight
                Image:
                    source: '/home/ken/Pictures/Kivy_AC_Controls_Images/tickLine.png'
                    size: self.texture_size
            Label:
                size_hint_y: slider.horizontalHintRatio
                text: str(int(slider.var1))
        BoxLayout:
            orientation: 'vertical'
            rows: 3
            Label:
                size_hint_y: slider.horizontalHintRatio
                text: 'Stage 2'
            ValveIndicator:
                size_hint_y: slider.horizontalHintRatio
                state_image: self.valve_closed if slider1.value1 < slider.var2 else self.valve_open
            BoxLayout:
                orientation: 'horizontal'
                cols: 2
                Slider2:
                    id:slider1
                    min: 0
                    max: 450
                    value1: 10
                    value2: 90
                    height: slider.sliderHeight
                Image:
                    source: '/home/ken/Pictures/Kivy_AC_Controls_Images/tickLine.png'
                    size: self.texture_size
            Label:
                size_hint_y: slider.horizontalHintRatio
                text: str(int(slider.var2))
        BoxLayout:
            orientation: 'vertical'
            rows: 3
            Label:
                size_hint_y: slider.horizontalHintRatio
                text: 'Stage 3'
            ValveIndicator:
                size_hint_y: slider.horizontalHintRatio
                state_image: self.valve_closed if slider2.value1 < slider.var3 else self.valve_open
            BoxLayout:
                orientation: 'horizontal'
                cols: 2
                Slider2:
                    id:slider2
                    min: 0
                    max: 450
                    value1: 10
                    value2: 90
                    height: slider.sliderHeight
                Image:
                    source: '/home/ken/Pictures/Kivy_AC_Controls_Images/tickLine.png'
                    size: self.texture_size
            Label:
                size_hint_y: slider.horizontalHintRatio
                text: str(int(slider.var3))
        BoxLayout:
            orientation: 'vertical'
            rows: 3
            Label:
                size_hint_y: slider.horizontalHintRatio
                text: 'Stage 4'
            ValveIndicator:
                size_hint_y: slider.horizontalHintRatio
                state_image: self.valve_closed if slider3.value1 < slider.var4 else self.valve_open
            BoxLayout:
                orientation: 'horizontal'
                cols: 2
                Slider2:
                    id:slider3
                    min: 0
                    max: 450
                    value1: 10
                    value2: 90
                    height: slider.sliderHeight
                Image:
                    source: '/home/ken/Pictures/Kivy_AC_Controls_Images/tickLine.png'
                    size: self.texture_size
            Label:
                size_hint_y: slider.horizontalHintRatio
                text: str(int(slider.var4))
        BoxLayout:
            orientation: 'vertical'
            rows: 3
            Label:
                size_hint_y: slider.horizontalHintRatio
                text: 'Stage 5'
            ValveIndicator:
                size_hint_y: slider.horizontalHintRatio
                state_image: self.valve_closed if slider4.value1 < slider.var5 else self.valve_open
            BoxLayout:
                orientation: 'horizontal'
                cols: 2
                Slider2:
                    id:slider4
                    min: 0
                    max: 450
                    value1: 10
                    value2: 90
                    height: slider.sliderHeight
                Image:
                    source: '/home/ken/Pictures/Kivy_AC_Controls_Images/tickLine.png'
                    size: self.texture_size
            Label:
                size_hint_y: slider.horizontalHintRatio
                text: str(int(slider.var5))


